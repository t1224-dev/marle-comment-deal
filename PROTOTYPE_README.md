# まあるのコメント道場 - プロトタイプ版

## 🎯 プロトタイプ版の概要

このプロトタイプ版は、「まあるのコメント道場」の基本システムが実装された動作確認可能な最初のバージョンです。

### 🎮 実装済み機能

#### ✅ 基本システム
- **GameManager**: ゲーム状態管理（開始・一時停止・再開・終了）
- **SceneController**: シーン遷移管理（フェードイン・アウト）
- **InputManager**: 統一入力処理（PC・モバイル対応）
- **AudioManager**: 音響システム（BGM・SE・ボイス）

#### ✅ ゲームシステム
- **FaithSystem**: 信仰度管理（獲得・減少・目標判定）
- **HealthSystem**: 体力管理（減少・回復・危険状態）
- **InflamationSystem**: 炎上システム（蓄積・効果・解除）

#### ✅ コメントシステム
- **CommentBase**: コメント基底クラス（状態管理・移動・処理）
- **CommentMover**: コメント移動システム（右から左へ・浮遊効果）
- **CommentSpawner**: コメント生成システム（オブジェクトプール・配布制御）
- **CommentInputHandler**: コメント入力処理（タップ・ダブルタップ検出）

#### ✅ コメント種別
- **HolyComment**: 聖なるコメント（自動処理・信仰度+8）
- **OhoeComment**: おおえのネタコメント（1回タップ・信仰度±12/15）
- **TrollComment**: 荒らしコメント（2回タップ・信仰度±15/25・炎上効果）
- **SuperChatComment**: スパチャコメント（自動処理・金額別報酬）

#### ✅ UIシステム
- **GameUI**: ゲーム画面UI（信仰度・体力・炎上・時間表示）
- **TestUI**: テスト用UI（ボタン・情報表示）

#### ✅ テストシステム
- **GameBootstrap**: ゲーム起動管理（システム初期化・設定読み込み）
- **TestSceneSetup**: テストシーン作成（自動セットアップ）
- **GameTestRunner**: 自動テスト実行（システム動作確認）
- **CommentPrefabSetup**: プレハブ作成支援（コメント設定自動化）

## 🚀 使用方法

### 1. プロジェクトセットアップ
```
Unity 2022.3 LTS で Assets/Scripts/ フォルダを開く
```

### 2. テストシーンの作成
```csharp
// 空のシーンに TestSceneSetup スクリプトを追加
GameObject testObject = new GameObject("TestSceneSetup");
testObject.AddComponent<TestSceneSetup>();
```

### 3. ゲームの起動
```csharp
// GameBootstrap でゲームを起動
GameObject bootstrap = new GameObject("GameBootstrap");
bootstrap.AddComponent<GameBootstrap>();
```

### 4. 手動テスト
- **Start Game**: ゲーム開始
- **Spawn Comment**: テスト用コメント生成
- **Reset Faith**: 信仰度リセット
- **Toggle Debug**: デバッグモード切り替え

## 🎯 操作方法

### PC版
- **左クリック**: シングルタップ
- **左ダブルクリック**: ダブルタップ

### モバイル版
- **タップ**: シングルタップ
- **ダブルタップ**: ダブルタップ

### コメント処理
- **聖なるコメント（黄色）**: 自動処理される
- **おおえコメント（緑色）**: 1回タップで処理
- **荒らしコメント（赤色）**: 2回タップで処理
- **スパチャコメント（マゼンタ）**: 自動処理される

## 📊 システム動作

### 信仰度システム
- **初期値**: 0
- **目標値**: 200
- **聖なるコメント**: +8
- **おおえコメント成功**: +12
- **おおえコメント失敗**: -15
- **荒らしコメント成功**: +15
- **荒らしコメント失敗**: -25
- **スパチャ**: +20～120（金額別）

### 体力システム
- **初期値**: 100%
- **減少条件**: コメント未処理・荒らし攻撃
- **回復条件**: 聖なるコメント・スパチャ
- **危険状態**: 30%以下

### 炎上システム
- **初期値**: 0%
- **蓄積条件**: 荒らしコメント・おおえコメント失敗
- **効果**: 移動速度上昇・生成間隔短縮
- **危険状態**: 80%以上

## 🔧 設定とカスタマイズ

### CommentDistribution
```csharp
// Assets/Scripts/Comment/CommentDistribution.cs
// コメント出現率の調整
holyCommentChance = 40f;    // 聖なるコメント 40%
ohoeCommentChance = 30f;    // おおえコメント 30%
trollCommentChance = 20f;   // 荒らしコメント 20%
superChatCommentChance = 10f; // スパチャコメント 10%
```

### GameConfig
```csharp
// Assets/Scripts/Core/GameBootstrap.cs
// ゲーム設定の調整
targetFaith = 200;          // 目標信仰度
gameTimeLimit = 60f;        // ゲーム時間（秒）
maxActiveComments = 10;     // 最大同時コメント数
baseSpawnInterval = 2f;     // 基本生成間隔（秒）
```

## 🐛 既知の制限事項

### 未実装機能
- **マールキャラクター**: 立ち絵・表情・反応システム
- **音響素材**: BGM・SE・ボイス
- **エフェクト**: パーティクル・アニメーション
- **UI演出**: フェード・スケール・アニメーション
- **レベルシステム**: 進行管理・難易度調整
- **セーブシステム**: データ保存・読み込み

### 制限事項
- **プレハブ**: 基本的な四角形スプライト
- **テキスト**: 固定文字列のみ
- **エフェクト**: 色変更のみ
- **音響**: システムのみ（素材なし）

## 🎯 次の開発フェーズ

### フェーズ3: UI・UX (Week 5-6)
- **UIアニメーション**: フェード・スライド・スケール
- **フィードバック演出**: ボタン・ホバー・タップ
- **メニューUI**: 設定・リザルト画面

### フェーズ4: コンテンツ (Week 7-8)
- **マールキャラクター**: 立ち絵・表情・反応
- **レベルシステム**: 進行管理・目標設定
- **実績システム**: 進捗保存・解放管理

### フェーズ5: 演出・音響 (Week 9-10)
- **音響素材**: BGM・SE・ボイス実装
- **エフェクト**: パーティクル・アニメーション
- **UI演出**: ゲーム演出・フィードバック

## 🧪 テスト方法

### 自動テスト
```csharp
// GameTestRunner でシステムテスト実行
GameTestRunner testRunner = FindObjectOfType<GameTestRunner>();
testRunner.RunTests();
```

### 手動テスト
1. **システム初期化**: 全システムが正常に起動するか
2. **コメント生成**: 各種コメントが正しく生成されるか
3. **入力処理**: タップ・ダブルタップが正しく検出されるか
4. **信仰度計算**: 各コメントで信仰度が正しく変化するか
5. **ゲーム状態**: 開始・一時停止・再開・終了が正常に動作するか

## 📝 開発ログ

### 2025-01-11: プロトタイプ版完成
- ✅ 全基本システム実装完了
- ✅ コメント処理システム実装完了
- ✅ 入力システム実装完了
- ✅ UI基盤実装完了
- ✅ テストシステム実装完了
- ✅ 統合テスト実行完了

### 実装済みファイル数: 25個
- **Core**: 8個（システム管理・テスト）
- **Managers**: 5個（ゲーム・シーン・入力・音響・コメント入力）
- **Comment**: 7個（基底・移動・生成・配布・各種別）
- **UI**: 1個（ゲームUI）
- **Systems**: 3個（信仰・体力・炎上）
- **Documentation**: 1個（README）

## 🎉 マイルストーン達成

### マイルストーン1: プロトタイプ完成 ✅
- ✅ 基本的なコメント生成・移動・処理が動作
- ✅ 簡単な信仰度システムが機能
- ✅ 基本UI表示
- ✅ 全システム連携動作

**次のマイルストーン: アルファ版 (Week 8)**
- 全コメント種別の処理が実装
- マールの反応システムが動作
- 基本的なゲームループが完成

---

*このプロトタイプ版は、まあるのコメント道場の基本システムが正常に動作することを確認するための最初のプレイ可能版です。*